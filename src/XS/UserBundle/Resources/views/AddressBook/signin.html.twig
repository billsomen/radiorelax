{% extends 'base.html.twig' %}

{% block title %}
  Inscription | Edutool
{% endblock %}
{% block stylesheets_page %}
  <link href="{{ asset('assets/global/plugins/select2/css/select2.min.css') }}" rel="stylesheet" type="text/css" />
  <link href="{{ asset('assets/global/plugins/select2/css/select2-bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}
{% block stylesheets_theme_layout %}
  <link href="{{ asset('assets/pages/css/login-5.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block body_class %} class="login" {% endblock %}
{% block header %}
  {#On le vide pour l'instant, comme le template nen a pas besoin#}
{% endblock %}

{% block page_container %}
  <div class="user-login-5">
    <div class="row bs-reset">
      <div class="col-md-6 bs-reset">
        <div class="login-bg" style="background-image:url({{ asset('assets/pages/img/login/bg1.jpg') }})">
          <img class="login-logo" src="{{ asset('assets/layouts/layout3/img/sections/10xedu.png') }}" width="50" />
        </div>
      </div>
      <div class="col-md-6 login-container bs-reset">
        <div class="login-content">
          <h1>Edutool | Inscription</h1>
          <div class="row">
            <div class="col-md-6">
              <p><a href="{{ path('login') }}" class="btn green btn-outline">J' ai déjà un compte !</a></p>
            </div>
            {#<div class="col-md-3 col-xs-6">
              <img src="{{ asset('assets/layouts/layout3/img/sections/cloudoffice.png') }}" width="50">
              <h6>Cloud Office</h6>
            </div>
            <div class="col-md-3 col-xs-6">
              <img src="{{ asset('assets/layouts/layout3/img/sections/10xedu.png') }}" width="50">
              <h6>Edutool</h6>
            </div>#}
          </div>
          <div class="login-form">
            {% if 1 %}
              <form class="login-form" style="margin-top: 70px" method="post" action="{{ path('signin') }}" enctype="multipart/form-data">
                {{ form_row(form._token) }}
                <div class="row">
                  {{ form_errors(form) }}
                  {% if error %}
                    <div class="alert alert-danger">{{ error.message }}</div>
                  {% endif %}
                  <div class="alert alert-danger display-hide">
                    <button class="close" data-close="alert"></button>
                    <span>Formulaire non valide.</span>
                  </div>
                </div>
                {#{% if form_errors(form.password.first) is not empty %}
                  <div class="alert alert-danger">{{ form_errors(form.password.first) }}</div>
                {% endif %}#}
                {% for flashMessage in app.session.flashbag.get('notice') %}
                  <div class="alert alert-success">
                    {{ flashMessage }}
                  </div>
                {% endfor %}
                {% for flashMessage in app.session.flashbag.get('error') %}
                  <div class="alert alert-danger">
                    {{ flashMessage }}
                  </div>
                {% endfor %}

                <div class="row">
                  <div class="col-md-6 col-xs-12">
                    {#<input >#}
                    {{ form_widget(form.nickname, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'autocomplete': 'off',
                        'autofocus': 'autofocus',
                        'placeholder': "Nom d'utilisateur"
                      }})
                    }}
                  </div>
                  <div class="col-md-6 col-xs-12">
                    {{ form_widget(form.email, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'autocomplete': 'off',
                        'placeholder': "Adresse Email"
                      }})
                    }}
                  </div>
                  <div class="col-md-12 col-xs-12">
                    {% include '@XSCore/GMaps/_gmaps.form.insert-small.html.twig' with {'form_element': form.localisation.gmaps, 'update_phone':1 } %}
                    {#<input type="text" class="form-control" placeholder="Lieu de Résidence">#}
                    {#{{ form_widget(form.localisation.gmaps, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'autocomplete': 'off',
                        'placeholder': "Adresse Email"
                      }})
                    }}#}
                  </div>

                  <div class="col-md-6 col-xs-12">
                    <div class="form-group">
                      <div class="input-inline input-medium">
                        <div class="input-group">
                          <span class="input-group-addon" style="background-color: white; border: none; position: relative; top: -15px;"><span id="country_code">+237</span></span>
                          {{ form_widget(form.telephones[0].countryCode, {
                            'id' : 'phone_code',
                            'attr': {
                              'class': 'form-control',
                              'style': 'display:none',
                            }})
                          }}

                          {{ form_widget(form.telephones[0].number, {
                            'id' : 'phone_number',
                            'attr': {
                              'class': 'form-control',
                              'style': 'display:none',
                            }})
                          }}

                          {{ form_widget(form.username, {
                            'id' : 'username',
                            'attr': {
                              'class': 'form-control form-control-solid placeholder-no-fix form-group',
                              'autocomplete': 'off',
                              'type': 'text',
                              'onchange': 'setPhone()',
                              'placeholder': 'Numéro de téléphone'
                            }})
                          }}
                          {#<input type="email" class="form-control" placeholder="Email Address">#}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 col-xs-12">
                    {{ form_widget(form.password, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'placeholder': 'Mot de passe'
                      }})
                    }}
                  </div>
                 {#<div class="col-md-6 col-xs-12">
                    {{ form_widget(form.password.first, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'placeholder': 'Mot de passe'
                      }})
                    }}
                  </div>
                  <div class="col-md-6 col-xs-12">
                    {{ form_widget(form.password.second, {
                      'attr': {
                        'class': 'form-control form-control-solid placeholder-no-fix form-group',
                        'placeholder': 'Confirmation'
                      }})
                    }}
                  </div>#}
                </div>
                <div class="row">
                  <div class="col-md-6 col-xs-12 text-left">
                    <div class="form-group">
                      <label class="mt-checkbox mt-checkbox-outline">
                         {{ form_widget(form.terms) }}
                        J'accepte les
                        <a href="javascript:;">Termes de Service </a>
                        <span></span>
                      </label>
                      <div id="register_tnc_error"> </div>
                    </div>
                  </div>
                  <div class="col-md-6 col-xs-12 text-right">
                    <button class="btn green" type="submit">Inscription</button>
                  </div>
                </div>
              </form>
            {% else %}
              <p>La création de compte est réservée aux administrateurs. Si vous êtes membres d'une école ou son propriétaire, contactez-nous et nous activerons <b>gratuitement</b> tous les comptes de votre école!</p>
              <p>
              <ul>
                <li>Tél: <a href="tel:+237695456185">+237 695 45 61 85</a> </li>
                <li>Email: <a href="mailto:service@edutools.me">service@edutool.ca</a> </li>
              </ul>
              </p>
            {% endif %}
          </div>

        </div>
        <div class="login-footer">
          <div class="row bs-reset">
            <div class="col-xs-5 bs-reset">
              <ul class="login-social">
                <li>
                  <a href="javascript:;">
                    <i class="icon-social-facebook"></i>
                  </a>
                </li>
                <li>
                  <a href="javascript:;">
                    <i class="icon-social-twitter"></i>
                  </a>
                </li>
              </ul>
            </div>
            <div class="col-xs-7 bs-reset">
              <div class="login-copyright text-right">
                <p>2016 &copy; Edutool by <a href="http://www.innovafactory.xyz"  target="_blank">innovaFactory</a>.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
  {#Pas de footer classique...#}
{% endblock %}

{% block javascripts_page %}
  <script src="{{ asset('assets/global/plugins/jquery.min.js') }}" type="text/javascript"></script>
  <script src="{{ asset('assets/global/plugins/jquery-validation/js/jquery.validate.min.js') }}" type="text/javascript"></script>
  <script src="{{ asset('assets/global/plugins/jquery-validation/js/additional-methods.js') }}" type="text/javascript"></script>
  <script src="{{ asset('assets/global/plugins/select2/js/select2.full.min.js') }}" type="text/javascript"></script>
  <script src="{{ asset('assets/global/plugins/backstretch/jquery.backstretch.min.js') }}" type="text/javascript"></script>
{% endblock %}

{% block javascripts_page_level %}
  <script src="{{ asset('assets/pages/scripts/login-5.js') }}" type="text/javascript"></script>
{% endblock %}

{% block javascripts_theme_layout %}
  {% include '@XSUser/User/user.scripts.html.twig' %}
{% endblock %}
